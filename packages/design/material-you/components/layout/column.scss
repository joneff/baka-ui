@use "baka-core" as *;
@use "../../styles/" as *;

.baka-column {
  @include column();

  @each $size, $breakpoint in $breakpoints {
    $_width: map-get($breakpoint, width);
    $_screen: map-get($breakpoint, screen);
    $_columns: map-get($breakpoint, columns);
    $_gutter: map-get($breakpoint, gutter);

    @if ($_screen == 0) {
      @for $i from 1 through $_columns {
        & {
          width: calc(($i / $_columns) * 100% - $_gutter);
        }
      }
    } @else {
      @media screen and (min-width: $_screen) {
        @for $i from 1 through $_columns {
          &[data-count="#{$i}"] {
            width: calc(($i / $_columns) * 100% - $_gutter);
          }
        }
      }
    }
  }
}
